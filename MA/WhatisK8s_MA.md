# What is K8s?
### kubernetes 란?
> 컨테이너화된 워크로드와 서비스를 관리하기 위한 이식성이 있고, 확장가능한 오픈소스 플랫폼 </br>
컨테이너 런타임을 통해 컨테이너를 다루는 도구 </br>
여러 서버로 구성된 클러스터 환경에서 컨테이너화 된 프로세스를 관리하기 위한

- 컨테이너 방식은 가상 머신 방식과 다르게 host OS를 공유
- 사용자는 개별 서버(노드)를 직접 제어하지 않고 k8s라는 추상화된 레이어를 통해 클러스터를 제어
- 쿠버네티스는 모든 서버들을 Master / Worker 노드로 구분
- 쿠버네티스가 컨테이너를 다루는 도구이며 도커를 다루는 도구는 아님 </br>
-> 쿠버네티스의 역할은 컨테이너를 분산 배치, 상태 관리 및 컨테이너의 구동 환경까지 관리해 주는 도구이고, 도커는 컨테이너를 다루는 도구(컨테이너 런타임) 중 하나

### kubernetes 관련 용어
|용어|뜻|
|---|---|
|컨테이너|앱이 구동되는 환경까지 감싸서 실행할 수 있도록 하는 격리 기술|
|컨테이너 런타임|컨테이너를 다루는 도구, 컨테이너를 사용할 때 필요한 도구|
|도커|컨테이너를 다루는 도구 중 가장 유명한 것|
|쿠버네티스|컨테이너 런타임을 통해 컨테이너를 오케스트레이션 하는 도구|
|오케스트레이션|여러 서버에 걸친 컨테이너 및 사용하는 환경 설정을 관리하는 행위 (여러 서버에 컨테이너를 분산해서 배치, 문제가 생긴 컨테이너를 교체, 컨테이너가 사용할 비밀번호나 환경 설정을 관리하고 주입해 주는 일 등)|
|master|마스터 노드, 다중 도커 데몬을 관리하는 일|
|worker|도커가 설치되어 있으며 실제 컨테이너들이 생성되어 일하는 노드, 마스터의 관리를 받음|
|pod|kubernetes의 기본 단위. 컨테이너 혹은 컨테이너의 묶음이라고 불림|
|rc|replication controller. pod를 자동으로 생성 복제해주는 컨트롤러. (복제 개수 설정을 3으로 하게 되면 3개의 pod가 서비스상에 계속 active상태)|
|service|pod의 group을 식별하는 라벨이라는 기준에 따라 pod들을 하나의 서비스로 외부에서 접근가능하게|
|yaml|kubenets에서 service, rc, pod등 기능을 설명한 데이터 형식 코드|

### kubernetes 목적
- 다중의 도커 서버를 하나의 Pool로 구성</br>
kubernets는 다중 서버의 도커 데몬에 연결하여 사용하는데 </br>사용자는 사용하는 서버에 서버가 몇 개인지 도커 컨테이너가 몇개 실행중인지 알 필요가 없다. </br>
kubernetes 마스터에게 사용자가 필요한 컨테이너를 어떤 목적에 맞는 이미지로 몇개 만들지만 명령만 하면 된다. 
- 다중 서버에 분산되어 컨테이너 생성</br>
두 개의 워커 노드에 3개의 container를 생성하게 되면 쿠버네티스에서 알아서 컨테이너를 A서버와 B서버에게 할당하여 Idle상태인 서버를 직접 찾을 필요가 없다.
- A서버 B서버 와의 컨테이너 통신</br>
각 서버 컨테이너는 각각의 private ip가 있는데 A서버와 B서버에 있는 컨테이너 간의 통신은 kube-proxy 등을 통해 가능
- 컨테이너 재생성</br>
단일 서버에서 도커 컨테이너를 생성하다 운영하다 보면 가끔은 불편한 상황(서버가 다운되거나 컨테이너가 fail 되어 exit상태로 빠져나가는 경우) 발생</br>
쿠버네티스는 이 상황을 방지하여 동일한 컨테이너를 생성하고 서비스를 지속적으로 제공
- Load Balance</br>
예를 들어 kubernetes 클러스터로 생성된 웹사이트에 3개의 컨테이너가 동작하고 있는데 </br>그 웹사이트의 public ip로 사용자가 접근할 때마다 container1 -> container2 -> container3 순서로 접근할 수 있도록</br> round-robin형태의 로드밸런싱이 제공

## 참고자료
https://www.samsungsds.com/kr/insights/220222_kubernetes1.html?referrer=https://www.google.com/</br>
https://velog.io/@neity16/%ED%95%B5%EC%8B%AC%EB%A7%8C-%EC%BD%95-%EC%BF%A0%EB%B2%84%EB%84%A4%ED%8B%B0%EC%8A%A4-2-k8s-%EA%B8%B0%EB%B3%B8-%EA%B0%9C%EB%85%90</br>
https://kyumdoctor.co.kr/13