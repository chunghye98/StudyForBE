# Process vs Thread

## 멀티 프로세스

하나의 어플리케이션을 여러 개의 프로세스로 구성하여 각 프로세스가 하나의 작업을 처리하도록 하는 것이다.

## 특징

- 안정성

여러 개의 자식 프로세스 중 하나에 문제가 발생해도, 다른 자식 프로세스에 영향이 확산되지 않는다.

- 구현이 비교적 간단하고, 각 프로세스들이 독립적으로 동작하며 자원을 서로 다르게 할당 받는다.

- IPC

프로세스 간에 통신을 하기 위해서는 IPC를 통해야 한다.

- 메모리 사용량이 많다.

- 스케쥴링에 따른 컨텍스트 스위치잉 많아지고, 성능 저하의 우려가 있다.

## 멀티 스레드

하나의 어플리케이션을 여러 개의 스레드로 구성하여 하나의 스레드가 하나의 작업을 처리하도록 하는 것이다. 멀티 스레드를 사용하는 이유는사용자와 상호작용하는 어플리케이션에서 단일 스레드로 네트워크나 디비와 같은 오랜 시간이 걸리는 작업을 수행해야 하는 경우, 해당 작업을 처리하는 동안 사용자는 아무런 행위를 할 수 없는 상태가 되기 때문이다. 

## 특징

- 응답성

프로그램의 자식 스레드가 오류나 오랜 시간이 걸리는 작업으로 인해 중단되어도 프로그램이 계속적으로 수행된다.

- 자원 공유

부모 프로세스의 자원과 메모리를 공유할 수 있다.

- 비용

프로세스를 할당하는 것보다 스레드를 할당하는 것이 비용이 적다.

- 구현 및 테스트, 디버깅이 어렵다.
- 너무 많은 스레드 사용은 오버헤드를 발생시킨다.
- 동기화, 데드락이 발생하지 않도록 주의해야 한다.
- 자식 스레드 중 하나에 문제가 생긴 경우, 전체 프로세스에 영향을 줄 수 있다.

## 멀티 프로세스 vs 멀티 스레드

1. 자원의 효율성

멀티 프로세스로 할 경우, 프로세스를 생성하여 자원을 할당하는 비용이 크다. 이를 멀티 스레드로 할 경우, 비용 측면에서 이점을 얻는다. 

2. 응답 시간 단축 및 처리 비용 감소

IPC를 사용하는 통신은 상대적으로 비용이 크다. 반면에 스레드는 프로세스 내의 메모리를 공유하기 때문에 스레드 간에 데이터를 주고 받는 것이 간단해지고 시스템 자원 소모가 줄어든다. 

프로세스 간의 컨텍스트 스위칭은 느린 반면 스레드 간의 컨텍스트 스위칭은 빠르다. 왜냐하면 스레든느 스택 영역만 컨텍스트 스위칭 하면 되기 때문이다.

3. 멀티 스레드의 안정성 문제

여러 개의 스레드가 동일한 데이터 공간인 임계 구역을 공유하면서 이들을 수정한다는 점에 필연적으로 생기는 문제이다. 

멀티 프로세스의 경우, 문제가 발생하면 해당 프로세스를 중단시키고 다시 시작하면된다. 하지만 멀티 스레드는 하나의 스레드가 임계구역을 망쳐두면, 다른 스레드에게도 영향이 간다.

https://charlezz.medium.com/process%EC%99%80-thread-%EC%9D%B4%EC%95%BC%EA%B8%B0-5b96d0d43e37